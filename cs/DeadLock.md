# 교착상태 (DeadLock)

> 둘 이상의 thread가 각기 다른 thread가 점유하고 있는 자원을 서로 기다릴 때, 무한 대기에 빠지는 상황을 교착상태라 한다.



## 교착상태가 발생하는 조건

* 상호 배제 (mutual exclusion)
  * 동시에 한 thread만 자원을 점유 할 수 있는 상황
  * 다른 thread가 자원을 사용하려면 자원이 방출 될 때 까지 기다려야 함
* 점유 대기 (hold and wait)
  * thread가 자원을 보유한 상태에서 다른 thread가 보유한 자원을 추가적으로 기다리는 상황
* 비선점 (no preemption)
  * 다른 thread가 사용중인 자원을 강제로 선점할 수 없는 상황
  * 자원을 점유하고 있는 thread에 의해서만 자원이 방출된다.
* 순환 대기 (circular wait)
  * 대기중인 thread들이 순환 형태로 자원을 대기하고 있는 상황



## DeadLock 해결 방법

1. 무시
   - deadlock 발생 확률이 낮은 시스템에서 아무런 조치를 취하지 않고 deadlock을 무시하는 방법
     - 시스템 성능 저하가 없다.
     - 현대 시스템은 deadlock이 잘 발생하지 않고, 해결 비용이 크기 때문에 많이 사용된다.
2. 예방
   - 교착 상태의 4가지 조건중 하나가 성립하지 않게 만드는 방법
     - 순환대기조건이 일어나지 않도록 하는 것이 현실적으로 가능한 예방방법
     - 자원 사용의 효율성이 떨어지고 비용이 크다
3. 회피
   - 자원 할당 그래프 알고리즘, 은행원 알고리즘등을 사용해 deadlock을 회피
4. 탐지-회복
   - 자원 사용의 효율성이 떨어지고 비용이 크다.